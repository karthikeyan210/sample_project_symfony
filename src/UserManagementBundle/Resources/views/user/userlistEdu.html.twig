<table border = "2" align="center">
    <tr>
        <th>UserName</th>
        <th>FirstName</th>
        <th>LastName</th> 
        <th>DOB</th>
        <th>Gender</th>
        <th colspan="2">Modify</th>
    </tr>
{% for user in users %}
    <tr>  
        <td>{{ user.username }}</td>
        <td>{{ user.firstname }}</td>   
        <td>{{ user.lastname }}</td>
        <td>{{ user.dob|date('Y-m-d') }}</td>
        <td>{{ user.gender }}</td>
        <td>
            <input type="button" value="View" class ="edit_button"
                   onclick="location.href='/users/view/{{user.id}}';" >
            <input type="button" value="Edit" class ="edit_button"
                   onclick="location.href='/users/edit/{{user.id}}';" >
        </td>
    </tr>
{% endfor %}
</table>
<div id="pagination" align="center">    
{% if maxPages > 1 %}
<table class="pagination" >
    <tr>
        <td>
            <span>
                <input type="button" class="page_no" value="«" onclick="paginate('{{ 1 }}')">
            </span>
        {% if thisPage <= 1 %}
            <span> Prev </span>
        {% else %}
            <span>
                <input type="button" class="page_no" value="Prev" onclick="paginate('{{ thisPage-1 < 1 ? 1 : thisPage-1 }}')" href="javascript:void(0)">
            </span>
        {% endif %}
        {% set start = max(1, thisPage - 4) %}
        {% set end = min(thisPage + 4, maxPages) %}
        {% for i in start..end %}
            {% if thisPage != i %}
                <span>
                <input type="button" class="page_no" value="{{ i }}" onclick="paginate('{{ i }}')" href="javascript:void(0)">
                </span>
            {% else %}
                <span>{{ i }}</span>
            {% endif %}
        {% endfor %}
        
        {% if thisPage == maxPages %}
            <span> Next </span>
        {% else %}
            <span>
                <input type="button" class="page_no" value="Next" onclick="paginate('{{ thisPage+1 <= maxPages ? thisPage+1 : thisPage }}')" href="javascript:void(0)">
            </span>
        {% endif %}
            <span>
                <input type="button" class="page_no" value="»" onclick="paginate('{{ maxPages }}')">
            </span>
        </td>
    </tr>
</table>
{% endif %}
</div>
