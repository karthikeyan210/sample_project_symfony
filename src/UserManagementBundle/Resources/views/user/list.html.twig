{# empty Twig template #}
{% extends 'base.html.twig' %}
{% block body %}
 <input type="button" value="New User"
                   onclick="location.href='/users/new';" >
<table border = "2">
    <tr>
        <th>UserName</th>
        <th>FirstName</th>
        <th>LastName</th> 
        <th>DOB</th>
        <th>Gender</th>
        <th colspan="2">Modify</th>
    </tr>
{% for user in users %}
    <tr>  
        <td>{{ user.username }}</td>
        <td>{{ user.firstname }}</td>   
        <td>{{ user.lastname }}</td>
        <td>{{ user.dob|date('Y-m-d') }}</td>
        <td>{{ user.gender }}</td>
        <td>
            <input type="button" value="View"
                   onclick="location.href='/users/view/{{user.id}}';" >
            <input type="button" value="Edit"
                   onclick="location.href='/users/edit/{{user.id}}';" >
        </td>
    </tr>
{% endfor %}
</table>


    
{% if maxPages > 1 %}
<table class="pagination">
    <tr>
        <td>
        {# `«` arrow  #}
        {% if thisPage <= 1 %}
            <span> « </span>
        {% else %}
            <span>
                <a href="{{ path('user_management_list', {page: thisPage-1 < 1 ? 1 : thisPage-1 }) }}"> « </a>
            </span>
        {% endif %}

        {# Render each page number #}
        {% for i in 1..maxPages %}
            {% if thisPage != i %}
                <span>
                <a href="{{ path('user_management_list', {page: i}) }}">{{ i }}</a>
                </span>
            {% else %}
                <span>{{ i }}</span>
            {% endif %}
        {% endfor %}
        
        {# `»` arrow #}
        {% if thisPage == maxPages %}
            <span> » </span>
        {% else %}
            <span>
                <a href="{{ path('user_management_list', {page: thisPage+1 <= maxPages ? thisPage+1 : thisPage}) }}"> » </a>
            </span>
        {% endif %}
        </td>
    </tr>
</table>
{% endif %}


{% endblock %}
